# Лабораторная работа №2

## Задание:
1. Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
2. Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
3. В Readme описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
4. В Readme описать 2 плохих практики по работе с контейнерами. Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.

## Выполнение  работы:
Создаем самый простой python файл, с которым будем работать:

![2 1](https://github.com/user-attachments/assets/d556cfa4-464e-4bbc-8bb5-b6b9d31fcf08)


Далее пишем плохой Dockerfile:
![2 2](https://github.com/user-attachments/assets/f0aaf1ed-314a-4018-8942-fd2f1697a3df)

![2 3](https://github.com/user-attachments/assets/1aa881dd-f1ae-4e38-b655-fe6223c8f50c)
![уф (3) (3)](https://github.com/user-attachments/assets/f5186794-3819-4bef-837f-2fbf153148d1)

Все ок, он запускается)

Пишем хороший Dockerfile:
![2 4](https://github.com/user-attachments/assets/cdd9a468-51d3-471e-8768-807b702b846a)

![ваай](https://github.com/user-attachments/assets/9f24ce60-a8a7-4c4c-b4a8-39a170a91018)
![snapedit_1741096329353](https://github.com/user-attachments/assets/6be78e3b-3f00-456a-bebb-a251e270d115)

И он тоже запускается!

#### Плохие практики:
1. В плохом Dockerfile используется ubuntu:latest, который содержит много ненужных для приложения компонентов. Это значительно увеличивает размер образа, что замедляет сборку, передачу по сети и загрузку контейнеров.
2. В плохом Dockerfile контейнер работает от имени root пользователя, что представляет собой угрозу безопасности, так как у приложения будет доступ ко всем системным ресурсам.
3. В плохем Dockerfile используется ADD вместо COPY, что может привезти к неожиданным ситуациям, так как например ADD самостоятельно распаковывает архивы и складывает их в папку, в то время как COPY просто скопирует все, что вы ему дали.
4. В плохом Dockerfile файлы копируются в корневую директорию (/), что создает хаос и усложняет управление приложением.

#### Хорошие практики:
1. В хорошем Dockerfile используется более легкий базовый образ ubuntu:20.04 что уменьшает размер контейнера.
2. В хорошем Dockerfile создан и используется отдельный пользователь appuser, что ограничивает права доступа и уменьшает риски при эксплуатации контейнера.
3. В хорошем Dockerfile используется COPY вместо ADD, почему это лучше, уже описал.
4. В хорошем Dockerfile используется явная рабочая директория /app, что упрощает структуру файлов и улучшает читаемость.

#### Плохие практики даже при работе с хорошим контейнером:
Запуск контейнеров без ограничения ресурсов, если контейнеру не заданы ограничения по ресурсам (например, память и CPU), он может использовать все доступные ресурсы хост-системы, что может привести к нестабильности и снижению производительности других приложений. Без лимитов, контейнер может съесть всю память или процессорное время, что негативно скажется на производительности всей системы.
Запуск несольких процессов в одном контейнере, так будет нарушаться изоляция процессов и "читаемость".
