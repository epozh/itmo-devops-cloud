# Лабораторная работа №2

## Задание:
1. Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
2. Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
3. В Readme описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
4. В Readme описать 2 плохих практики по работе с контейнерами. Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.

## Выполнение  работы:
Создаем самый простой python файл, с которым будем работать:

Далее пишем плохой Dockerfile:

Все ок, он запускается)

Пишем хороший Dockerfile:

И он тоже запускается!

Плохие практики:
В плохом Dockerfile используется ubuntu:latest, который содержит много ненужных для приложения компонентов. Это значительно увеличивает размер образа, что замедляет сборку, передачу по сети и загрузку контейнеров.
В плохом Dockerfile контейнер работает от имени root пользователя, что представляет собой угрозу безопасности, так как у приложения будет доступ ко всем системным ресурсам.
В плохем Dockerfile используется ADD вместо COPY, что может привезти к неожиданным ситуациям, так как например ADD самостоятельно распаковывает архивы и складывает их в папку, в то время как COPY просто скопирует все, что вы ему дали.
В плохом Dockerfile файлы копируются в корневую директорию (/), что создает хаос и усложняет управление приложением.
Хорошие практики:
В хорошем Dockerfile используется более легкий базовый образ ubuntu:20.04 что уменьшает размер контейнера.
В хорошем Dockerfile создан и используется отдельный пользователь appuser, что ограничивает права доступа и уменьшает риски при эксплуатации контейнера.
В хорошем Dockerfile используется COPY вместо ADD, почему это лучше, уже описал.
В хорошем Dockerfile используется явная рабочая директория /app, что упрощает структуру файлов и улучшает читаемость.
Плохие практики даже при работе с хорошим контейнером:
Запуск контейнеров без ограничения ресурсов, если контейнеру не заданы ограничения по ресурсам (например, память и CPU), он может использовать все доступные ресурсы хост-системы, что может привести к нестабильности и снижению производительности других приложений. Без лимитов, контейнер может съесть всю память или процессорное время, что негативно скажется на производительности всей системы.
Запуск несольких процессов в одном контейнере, так будет нарушаться изоляция процессов и "читаемость".
